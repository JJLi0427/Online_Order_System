# Online Order System

The project is an online ordering system for a restaurant. Customers can log in by entering their mobile number, table number, and the number of diners, choose the quantity of different dishes from the menu, and place an order after filling in their taste preferences. The system includes backend management. Backend users are divided into employees and shop owners. Employees can only track and modify the order status in the backend, while shop owners can modify the menu, employee list, order list, etc.

## 项目简介

这是一个餐厅在线点餐系统，包含用户使用界面和功能实现，后台店员和管理员的操作界面和功能实现。用户通过输入手机号，用餐人数，餐桌号进入点餐，手动选择菜品和数量进行下单，实现了口味偏好备注的功能。后台员工/管理员界面需要密码登录，进入后可以操作为完成的订单完成，管理员界面功能丰富，实现了员工/用户管理，菜单管理，订单管理和缓存清理等功能。项目使用SSM框架开发，使用maven做包管理，利用上了许多Mysql数据库的特性。整体分数据库服务器，应用服务器，WEB服务器三部分设计，应用可通过Tomcat服务或者是容器部署。

## Project Display

The project has designed different user interfaces and entrances for users, administrators, and employees, corresponding to different functions  

![project display](./display.jpg)

## Frameworks Used

The project uses the following key frameworks(SSM):

* Spring: Provides the foundational support for developing Java applications.
* Spring MVC: Used for building web applications.
* MyBatis: Used for persistence and database operations.
Logback: Used for logging application events.

## Database Feature Used

Table, Views, Index, Procedure, Trigger

## Project Structure

The project follows a typical Maven project structure:

### File tree

```bash
.
├─src
│  └─main
│      ├─java
│      │  └─com
│      │      └─ljj
│      │          ├─controller
│      │          ├─mapper
│      │          ├─pojo
│      │          └─service
│      │              └─impl
│      ├─resources
│      │  └─com
│      │      └─ljj
│      │          └─mapper
│      └─webapp
│          └─WEB-INF
│              └─jsp
└─pom.xml
```

* `src/main/java`: This is where the Java source files reside.  
* `src/main/resources`: This directory contains resources such as XML and properties files.  
* `src/main/webapp`: This directory contains web application resources.  
* `target`: This directory is generated by Maven and contains the compiled classes and packaged application.  

### Key Configuration Files

* `pom.xml`: This is the project's Maven configuration file. It includes the project dependencies, plugins, and build settings.  
* `applicationContext.xml`: This file contains Spring's application context configuration.  
* `database.properties`: This file contains the database connection properties.  
* `logback.xml`: This file contains the configuration for Logback, the logging framework used in the project.  
* `mybatis-config.xml`: This file contains the configuration for MyBatis, the persistence framework used in the project.  
* `springmvc-config.xml`: This file contains the configuration for Spring MVC, the web framework used in the project.  

## How to Use

### Check your Configuration

1. Use `mysqltables.sql` to build your database tables.
2. Check `database.properties`, change your database url, user and password.

### Build and Package

To compile and package the project, use the following Maven command:

```bash
mvn clean package
```

This will create a WAR file in the target directory.

### Deployment

* To deploy the application on Tomcat:

  1. Copy the generated WAR file from the target directory to the webapps directory of your Tomcat installation.
  2. Start Tomcat by running the startup.sh (or startup.bat on Windows) script in the bin directory of your Tomcat installation.
  3. The application should now be accessible at `http://localhost:8080/ordersystem`, assuming Tomcat is running on localhost and port 8080.

* Use docker image to deploy

  You can use `dockerfile` to build your image and deploly it through docker on your 8080 port.
  ```bash
  cd ./src
  docker build -t ordersystem .
  docker run -p 8080:8080 ordersystem
  ```

* WEB Proxy

  Proxy projects through Apache: Install Apache in your web server and write a proxy file like sample in `proxy.conf` file name is your server domain or ip.

## Project TODO

* -[x] Add staff change password function
* -[x] User order page can see history order
